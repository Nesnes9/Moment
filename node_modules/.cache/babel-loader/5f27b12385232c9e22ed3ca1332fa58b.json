{"ast":null,"code":"var _jsxFileName = \"/Users/nesrine/Downloads/films-master/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport FilmsCollection from './FilmsCollection';\nimport _ from 'lodash';\nimport Modal from '@material-ui/core/Modal';\nimport BottomScrollListener from 'react-bottom-scroll-listener';\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showFilmModal = filmId => {\n      const filmToShow = _.find(this.state.films, {\n        id: filmId\n      }); // alert(filmToShow.title)\n\n\n      this.setState({\n        modalOpen: true,\n        filmModal: filmToShow\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        modalOpen: false\n      });\n    };\n\n    this.state = {\n      films: [],\n      modalOpen: false,\n      filmModal: {},\n      nextPage: 2\n    };\n  }\n\n  componentDidMount() {\n    fetch('https://api.themoviedb.org/3/discover/movie?api_key=114ce763417eddc9383aaffd90559895', {}).then(res => res.json()).then(apiResults => {\n      const results = apiResults.results;\n      this.setState({\n        films: results\n      });\n    });\n  }\n\n  fetchMoreFilms() {\n    fetch('https://api.themoviedb.org/3/discover/movie?api_key=114ce763417eddc9383aaffd90559895&page=' + this.state.nextPage, {}).then(res => res.json()).then(apiResults => {\n      const results = apiResults.results;\n      this.setState({\n        films: _.concat(this.state.films, results),\n        nextPage: this.state.nextPage + 1\n      });\n    });\n  }\n\n  render() {\n    const filmModal = this.state.filmModal;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Movies of the Moment\"), React.createElement(FilmsCollection, {\n      data: this.state.films,\n      showFilmModal: this.showFilmModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      open: this.state.modalOpen,\n      onClose: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        backgroundColor: 'beige',\n        position: 'relative',\n        width: 500,\n        top: '50%',\n        left: '50%',\n        right: '20'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, filmModal.title), React.createElement(\"img\", {\n      src: 'https://image.tmdb.org/t/p/w500' + filmModal.poster_path,\n      style: {\n        height: 300,\n        width: 500\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, filmModal.release_date), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, filmModal.overview))), React.createElement(BottomScrollListener, {\n      onBottom: () => this.fetchMoreFilms(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/nesrine/Downloads/films-master/src/App.js"],"names":["React","Component","FilmsCollection","_","Modal","BottomScrollListener","App","constructor","props","showFilmModal","filmId","filmToShow","find","state","films","id","setState","modalOpen","filmModal","handleClose","nextPage","componentDidMount","fetch","then","res","json","apiResults","results","fetchMoreFilms","concat","render","backgroundColor","position","width","top","left","right","title","poster_path","height","release_date","overview"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css'\nimport FilmsCollection from './FilmsCollection'\nimport _ from 'lodash'\nimport Modal from '@material-ui/core/Modal';\nimport BottomScrollListener from 'react-bottom-scroll-listener';\n\nexport default class App extends Component{\n    constructor(props) {\n        super(props)\n        this.state = {\n            films: [],\n            modalOpen: false,\n            filmModal: {},\n            nextPage: 2,\n        }\n    }\n\n    showFilmModal = (filmId) => {\n        const filmToShow = _.find(this.state.films, { id: filmId })\n       // alert(filmToShow.title)\n        this.setState({\n            modalOpen: true,\n            filmModal: filmToShow\n        })\n    }\n\n    componentDidMount() {\n        fetch('https://api.themoviedb.org/3/discover/movie?api_key=114ce763417eddc9383aaffd90559895', {})\n            .then(res => res.json())\n            .then(apiResults => {\n                const results = apiResults.results\n                this.setState({\n                    films: results\n                })\n            })\n    }\n\n    fetchMoreFilms() {\n        fetch('https://api.themoviedb.org/3/discover/movie?api_key=114ce763417eddc9383aaffd90559895&page='+this.state.nextPage, {})\n            .then(res => res.json())\n            .then(apiResults => {\n                const results = apiResults.results\n                this.setState({\n                    films: _.concat(this.state.films, results),\n                    nextPage: this.state.nextPage +1\n                })\n            })\n\n    }\n    \n    handleClose = () => {\n        this.setState({ modalOpen: false })\n    }\n\n    render() {\n        const filmModal = this.state.filmModal\n\n        return (\n            <div className=\"App\">\n                <h1>Movies of the Moment</h1>\n                \n                <FilmsCollection data={this.state.films} showFilmModal={this.showFilmModal}/>\n\n                <Modal\n                    open={this.state.modalOpen}\n                    onClose={this.handleClose}\n                >\n                    <div style={{\n                        backgroundColor:'beige',\n                        position: 'relative',\n                        width: 500,\n                        top: '50%',\n                        left: '50%',\n                        right: '20',\n\n                        }}>\n                    <h2>{filmModal.title}</h2>\n                    <img\n                            src={'https://image.tmdb.org/t/p/w500' + filmModal.poster_path}\n                            style={{ \n                            height: 300,\n                            width: 500 }}\n                        />\n\n                        <p>\n                        {\n                            filmModal.release_date\n                        }\n                        </p>\n\n                    <p>\n                        {\n                            filmModal.overview\n                        }\n                    </p>\n                    </div>\n                </Modal>\n                <BottomScrollListener onBottom={() => this.fetchMoreFilms()} />\n\n            </div>\n        )\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}